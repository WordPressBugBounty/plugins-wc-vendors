function areObjectsEqual(t, i) {
  var a, e
  return null === t ||
    null === i ||
    'object' != typeof t ||
    'object' != typeof i
    ? t === i
    : Array.isArray(t) && Array.isArray(i)
    ? t.length === i.length && t.every((a, t) => areObjectsEqual(a, i[t]))
    : Array.isArray(t) === Array.isArray(i) &&
      ((a = Object.keys(t)), (e = Object.keys(i)), a.length === e.length) &&
      a.every(
        a =>
          !!Object.prototype.hasOwnProperty.call(i, a) &&
          areObjectsEqual(t[a], i[a])
      )
}
jQuery(function(c) {
  c(document).ready(function() {
    c('select.variation_actions').select2({
      placeholder: wcv_product_variation.variation_actions_placeholder,
      allowClear: !0
    })
  })
  let i = {},
    e = {},
    o =
      (c('.wcv_variations', c('#wcv_variable_product_options')).sortable({
        items: '.wcv_variation',
        cursor: 'move',
        axis: 'y',
        handle: '.wcv-sort',
        scrollSensitivity: 40,
        forcePlaceholderSize: !0,
        helper: 'clone',
        opacity: 0.65,
        stop: function() {
          n.variation_row_indexes()
        }
      }),
      new Event('open_variations')),
    s = {
      create_variation_drop_down: function(a, t, i, e) {
        var e = 'attribute_' + a + '[' + e + ']',
          o = 'variation_attribute ' + a
        let n = c('<select></select>')
          .attr('name', e)
          .attr('class', o)
          .data('taxonomy', a)
        return (
          n.append(
            '<option value="">' +
              wcv_product_variation.i18n_any_label +
              ' ' +
              i +
              '</option>'
          ),
          c.each(t, function(a, t) {
            n.append('<option value="' + a + '">' + t + '</option>')
          }),
          n
        )
      },
      create_defaults_drop_down: function(a, t, i) {
        var e = 'default_attribute_' + a,
          o = 'defaut_attribute ' + a
        let n = c('<select></select>')
          .attr('name', e)
          .attr('class', o)
          .data('current', '')
          .data('taxonomy', a)
        return (
          n.append(
            '<option value="">' +
              wcv_product_variation.i18n_any_label +
              ' ' +
              i +
              '</option>'
          ),
          c.each(t, function(a, t) {
            n.append('<option value="' + a + '">' + t + '</option>')
          }),
          n
        )
      },
      sort_select_terms: function(a) {
        if (0 < a.length) {
          var t = a.val(),
            e = c('option', a)
          let i = []
          e.each(function() {
            i.push({ val: c(this).val(), text: c(this).text() })
          }),
            i.sort(function(a, t) {
              return a.val > t.val ? 1 : a.val === t.val ? 0 : -1
            })
          for (let a = 0, t = i.length; a < t; a++)
            c(e[a])
              .val(i[a].val)
              .text(i[a].text)
          return a.val(t), a
        }
      },
      update_variation_select_positions: function() {
        let i = c('#wcv-variation-attributes').data('variation_attr')
        c('.wcv_variation').each(function() {
          var a = c(this).find('select.variation_attribute')
          a.sort(function(a, t) {
            ;(a = i[c(a).data('taxonomy')].position),
              (t = i[c(t).data('taxonomy')].position)
            return t < a ? 1 : a < t ? -1 : 0
          }),
            a.detach().appendTo(c(this).find('div.variations_wrapper'))
        })
      },
      update_default_select_positions: function() {
        let i = c('#wcv-variation-attributes').data('variation_attr')
        var a = c('.variation-default-values').find('select.default_attribute')
        a.sort(function(a, t) {
          ;(a = i[c(a).data('taxonomy')].position),
            (t = i[c(t).data('taxonomy')].position)
          return t < a ? 1 : a < t ? -1 : 0
        }),
          a.detach().appendTo('.variation-default-values')
      }
    },
    n = {
      init: function() {
        c('#wcv_variable_product_options')
          .on(
            'change',
            'input.variable_is_downloadable',
            this.variable_is_downloadable
          )
          .on('change', 'input.variable_is_virtual', this.variable_is_virtual)
          .on(
            'change',
            'input.variable_manage_stock',
            this.variable_manage_stock
          )
          .on('click', 'button.notice-dismiss', this.notice_dismiss)
          .on('click', 'h5 .wcv-sort', this.set_menu_order)
          .on('reload', this.reload),
          c(
            'input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock'
          ).change(),
          c(document.body).on('wcv_variations_added', this.variation_added)
      },
      reload: function() {
        l.load_variations(1), n.variation_options()
      },
      variable_is_downloadable: function() {
        c(this)
          .closest('.wcv_variation')
          .find('.show_if_variation_downloadable')
          .hide(),
          c(this).is(':checked') &&
            (c(this)
              .closest('.wcv_variation')
              .find('.show_if_variation_downloadable')
              .show(),
            c(this)
              .closest('.wcv_variation')
              .height('auto'))
      },
      variable_is_virtual: function() {
        c(this)
          .closest('.wcv_variation')
          .find('.hide_if_variation_virtual')
          .show(),
          c(this).is(':checked') &&
            c(this)
              .closest('.wcv_variation')
              .find('.hide_if_variation_virtual')
              .hide()
      },
      variable_manage_stock: function() {
        c(this)
          .closest('.wcv_variation')
          .find('.show_if_variation_manage_stock')
          .hide(),
          c(this)
            .closest('.wcv_variation')
            .find('.hide_if_variation_manage_stock')
            .show(),
          c(this).is(':checked') &&
            (c(this)
              .closest('.wcv_variation')
              .find('.show_if_variation_manage_stock')
              .show(),
            c(this)
              .closest('.wcv_variation')
              .find('.hide_if_variation_manage_stock')
              .hide())
      },
      notice_dismiss: function() {
        c(this)
          .closest('div.notice')
          .remove()
      },
      update_input: function(a, t) {
        return c('.' + t).val(a), !1
      },
      adjust_price: function(a, r, _) {
        return (
          c('.wcv_variation .' + a).each(function(a, t) {
            let i = 0,
              e = parseFloat(c(this).attr('value')),
              o = 0
            var n
            ;(e.length <= 0 || isNaN(e)) && (e = 0),
              ((o =
                0 <= r.indexOf('%')
                  ? ((n =
                      ((i = parseFloat(r.replace('%', ''))) / 100) *
                      parseFloat(e)),
                    '+' === _ ? parseFloat(e) + n : parseFloat(e) - n)
                  : ((i = parseFloat(r)),
                    '+' === _ ? parseFloat(e) + i : parseFloat(e) - i)) < 0 ||
                isNaN(o)) &&
                (o = 0),
              c(this).attr('value', o)
          }),
          !1
        )
      },
      variations_loaded: function(a, t) {
        t = t || !1
        var i = c('#wcv_variable_product_options')
        t ||
          (c(
            'input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock',
            i
          ).change(),
          c('.wcv_variation', i).each(function(a, t) {
            var t = c(t),
              i = c('.sale_price_dates_from', t).val(),
              e = c('.sale_price_dates_to', t).val()
            ;('' === i && '' === e) || c('a.sale_schedule', t).click()
          })),
          c('.wcv_variations', i).sortable({
            items: '.wcv_variation',
            cursor: 'move',
            axis: 'y',
            handle: '.wcv-sort',
            scrollSensitivity: 40,
            forcePlaceholderSize: !0,
            helper: 'clone',
            opacity: 0.65,
            stop: function() {
              n.variation_row_indexes()
            }
          })
      },
      variation_added: function(a, t) {
        1 === t && n.variations_loaded(null, !0)
      },
      set_menu_order: function(a) {
        a.preventDefault()
        var a = c(this)
            .closest('.wcv_variation')
            .find('.variation_menu_order'),
          t = window.prompt(
            wcv_product_variation.i18n_enter_menu_order,
            a.val()
          )
        null != t && (a.val(parseInt(t, 10)).change(), l.save_variations())
      },
      variation_row_indexes: function() {
        var a = c('#wcv_variable_product_options').find('.wcv_variations'),
          a = parseInt(a.attr('data-page'), 10)
        let i = parseInt(
          (a - 1) * wcv_product_variation.variations_per_page,
          10
        )
        c('.wcv_variations .wcv_variation').each(function(a, t) {
          c('.variation_menu_order', t)
            .val(
              parseInt(c(t).index('.wcv_variations .wcv_variation'), 10) + 1 + i
            )
            .change()
        })
      }
    },
    r = {
      setting_variation_image: null,
      mediaUploader: null,
      init: function() {
        c('#wcv_variable_product_options').on(
          'drop',
          '.wcv-upload-files-input',
          this.add_image
        ),
          c('#wcv_variable_product_options .wcv_remove').on(
            'click',
            this.remove_image
          ),
          c('#wcv_variable_product_options').on(
            'click',
            '.wcv-browser-file',
            this.add_image
          )
      },
      uploadImage: function(a) {
        let e = new FormData(),
          o = void (e.append('action', 'upload-attachment'),
          e.append('async-upload', a),
          e.append(
            '_wpnonce',
            _wpPluploadSettings.defaults.multipart_params._wpnonce
          ))
        return new Promise((t, i) => {
          c.ajax({
            url: wcv_product_variation.ajax_url,
            type: 'POST',
            data: e,
            processData: !1,
            contentType: !1,
            dataType: 'json',
            async: !1,
            success: function(a) {
              a.success
                ? ((o = a.data.id), t(o))
                : (alert('Error uploading file'), i(a))
            },
            error: function(a) {
              alert('Error uploading file'), i(a)
            }
          })
        })
      },
      openMediaUploader: function(t) {
        r.mediaUploader
          ? r.mediaUploader.off('select')
          : (r.mediaUploader = wp.media.frames.file_frame = wp.media({
              title: wcv_product_variation.i18n_choose_image,
              button: { text: wcv_product_variation.i18n_set_image },
              multiple: !1
            })),
          r.mediaUploader.on('select', function() {
            var a = r.mediaUploader
              .state()
              .get('selection')
              .first()
              .toJSON()
            t(a)
          }),
          r.mediaUploader.open()
      },
      add_image: function(a) {
        let i = c(this).closest('.upload_image'),
          e = i.find('.upload_image_id'),
          t = null
        setting_variation_image = i
        var o = a.originalEvent.type
        ;(t = 'drop' === o ? a.originalEvent.dataTransfer.files[0] : t)
          ? r
              .uploadImage(t)
              .then(t => {
                r.openMediaUploader(function(a) {
                  e.val(t),
                    i.find('img').attr('src', a.url),
                    i
                      .find('.product-variation-feat-upload ')
                      .addClass('hidden'),
                    i.find('.upload_image_button').removeClass('hide-all')
                })
              })
              .catch(a => {
                console.error(a)
              })
          : r.openMediaUploader(function(a) {
              e.val(a.id),
                i.find('img').attr('src', a.url),
                i.find('.product-variation-feat-upload ').addClass('hidden'),
                i.find('.upload_image_button').removeClass('hide-all')
            })
      },
      remove_image: function(a) {
        a.preventDefault()
        a = c(this).closest('.upload_image')
        a.find('.upload_image_id').val(''),
          a
            .find('img')
            .attr(
              'src',
              wcv_product_variation.wcv_woocommerce_placeholder_img_src
            ),
          a.find('.upload_image_button').addClass('hide-all'),
          a.find('.product-variation-feat-upload ').removeClass('hidden')
      },
      restore_wp_media_post_id: function() {
        wp.media.model.settings.post.id = c('#post_id').val()
      }
    },
    l = {
      addingPosition: 'top',
      init: function() {
        c('#wcv_variable_product_options').on(
          'click',
          '.remove_variation',
          this.remove_variation
        ),
          c(document.body)
            .on(
              'change',
              '#wcv_variable_product_options .wcv_variations :input',
              this.input_changed
            )
            .on('change', '.variations-defaults select', this.defaults_changed),
          c('.wcv-metaboxes-wrapper').on(
            'change',
            'select.variation_grouped_actions',
            function() {
              var a = c(this).attr('id')
              l.do_variation_action(a)
            }
          ),
          c('.wcv_single_add_variation').on('click', function() {
            c(this).hasClass('bottom')
              ? (l.addingPosition = 'bottom')
              : (l.addingPosition = 'top'),
              l.add_variation()
          }),
          c('.wcv-metaboxes-wrapper').on(
            'change',
            'select.variation_actions',
            function() {
              var a = c(this).attr('id')
              l.do_variation_action(a)
            }
          ),
          c(document).on('click', '.wcv-accordion-title', function() {
            'variations' === c(this).data('tab') &&
              l.check_for_attribute_changes()
          }),
          c(document.body).on(
            'woocommerce_added_attribute',
            l.check_for_attribute_changes
          ),
          c(document.body).on(
            'woocommerce_removed_attribute',
            l.check_for_attribute_changes
          ),
          c(document).ready(function() {
            c('#wcv-variation-attributes').data('variation_attr')
            c.isEmptyObject(e) &&
              (e = c.extend({}, wcv_product_variation.product_attrs))
          })
      },
      check_for_attribute_changes: function() {
        let i = c('#wcv-variation-attributes').data('variation_attr')
        var a
        areObjectsEqual((e = c.isEmptyObject(e) ? c.extend({}, i) : e), i) ||
          (areObjectsEqual(Object.keys(e), Object.keys(i))
            ? (s.update_variation_select_positions(),
              s.update_default_select_positions())
            : Object.keys(e).length > Object.keys(i).length
            ? Object.keys(e).length === Object.keys(i).length
              ? c.each(e, function(a, t) {
                  t = _.omit(t.values, Object.keys(i[a].values))
                  c.isEmptyObject(t) ||
                    l.update_variations_ui(a, t, 'term', '-')
                })
              : ((a = _.omit(e, Object.keys(i))),
                c.each(a, function(a, t) {
                  l.update_variations_ui(a, t, 'attribute', '-'),
                    l.update_defaults_ui(a, t, 'attribute', '-')
                }))
            : Object.keys(e).length === Object.keys(i).length
            ? c.each(i, function(a, t) {
                t = _.omit(t.values, Object.keys(e[a].values))
                c.isEmptyObject(t) || l.update_variations_ui(a, t, 'term', '+')
              })
            : ((a = _.omit(i, Object.keys(e))),
              c.each(a, function(a, t) {
                l.update_variations_ui(a, t, 'attribute', '+'),
                  l.update_defaults_ui(a, t, 'attribute', '+')
              })),
          (e = jQuery.extend({}, i))),
          jQuery.isEmptyObject(i)
            ? (c('.variations-toolbar').hide(), c('.variations_notice').show())
            : (c('.variations-toolbar').show(), c('.variations_notice').hide()),
          l.check_total_variations(),
          document.dispatchEvent(o)
      },
      update_variations_ui: function(e, o, n, r) {
        var a = c('#wcv-variation-attributes').data('variation_attr')
        if ((l.block(), 0 === Object.keys(a).length))
          return (
            c('.wcv_variation').each(function() {
              c(this).remove()
            }),
            c('.wcv_variations')
              .attr('data-attributes', JSON.stringify(a))
              .attr('data-total', 0),
            c('.variations_notice').removeClass('hide-all'),
            c('#wcv-attr-message').removeClass('hide-all'),
            c('.wcv_single_add_variation').addClass('hide-all'),
            d.update_variations_count(0),
            l.unblock(),
            !1
          )
        c('.wcv_variation').each(function(a, t) {
          switch (n) {
            case 'attribute':
              var i
              '-' === r
                ? c(this)
                    .find('select.' + e)
                    .remove()
                : ((i = s.create_variation_drop_down(e, o.values, o.label, a)),
                  c(this)
                    .find('.variation_title')
                    .append(i),
                  s.update_variation_select_positions(),
                  s.update_default_select_positions())
              break
            case 'term':
              if ('-' === r) {
                let i = c(this).find('select.' + e)
                c.each(o, function(a, t) {
                  i.find('[value="' + a + '"]').remove()
                })
              } else {
                let i = c(this).find('select.' + e)
                c.each(o, function(a, t) {
                  i.append(
                    c('<option></option>')
                      .attr('value', a)
                      .text(t)
                  )
                }),
                  (i = s.sort_select_terms(i))
              }
          }
        }),
          l.unblock()
      },
      update_defaults_ui: function(a, t, i, e) {
        switch (i) {
          case 'attribute':
            var o
            '-' === e
              ? c('.variations-defaults')
                  .find('select.' + a)
                  .remove()
              : ((o = s.create_defaults_drop_down(a, t.values, t.label)),
                c('.variation-default-values').append(o),
                s.update_variation_select_positions(),
                s.update_default_select_positions())
            break
          case 'term':
            if ('-' === e) {
              let i = c(this).find('select.' + a)
              c.each(t, function(a, t) {
                i.find('[value="' + a + '"]').remove()
              })
            } else {
              let i = c(this).find('select.' + a)
              c.each(t, function(a, t) {
                i.append(
                  c('<option></option>')
                    .attr('value', a)
                    .text(t)
                )
              }),
                (i = s.sort_select_terms(i))
            }
        }
      },
      check_total_variations: function() {
        return (
          0 === c('.wcv_variation').length &&
            c('.variations-defaults').remove(),
          !1
        )
      },
      block: function() {
        c('#wcv_variable_product_options').block({
          message: null,
          overlayCSS: { background: '#fff', opacity: 0.6 }
        })
      },
      unblock: function() {
        c('#wcv_variable_product_options').unblock()
      },
      load_default_attributes: function() {
        var a
        0 === c('.wcv_variation').length &&
          ((a = {
            action: 'wcv_json_default_variation_attributes',
            attributes: c('#wcv-variation-attributes').data('variation_attr'),
            security: wcv_product_variation.wcv_add_variation_nonce
          }),
          c.post(wcv_product_variation.ajax_url, a, function(a) {
            a = c(a)
            c('.toolbar-variations-defaults').prepend(a),
              c('.toolbar-variations-defaults').show()
          }))
      },
      add_variation: function() {
        l.block(), (i && 0 !== Object.keys(i).length) || l.populate_parent()
        var a = {
          action: 'wcv_json_add_variation',
          loop: c('.wcv_variation').length,
          parent_data: i,
          attributes: c('#wcv-variation-attributes').data('variation_attr'),
          security: wcv_product_variation.wcv_add_variation_nonce
        }
        return (
          c.post(wcv_product_variation.ajax_url, a, function(a) {
            var t = c(a)
            switch ((l.load_default_attributes(), l.addingPosition)) {
              case 'top':
                c('#wcv_variable_product_options')
                  .find('.wcv_variations')
                  .prepend(t)
                break
              case 'bottom':
                c('#wcv_variable_product_options')
                  .find('.wcv_variations')
                  .append(t)
            }
            c('#wcv_variable_product_options').trigger(
              'wcv_variations_added',
              1
            ),
              c('.wcv_single_add_variation.bottom')
                .closest('.hide-all')
                .removeClass('hide-all'),
              c(document).trigger('wcv-datetime-field-added'),
              l.unblock(),
              document.dispatchEvent(o)
          }),
          !1
        )
      },
      remove_variation: function() {
        var a, t, i
        if (window.confirm(wcv_product_variation.i18n_remove_variation))
          return (
            (t = (a = c(this).closest('.wcv_variation')).attr('rel')),
            (i = a.data('loop')),
            a.remove(),
            l.add_deleted_variation(t, i),
            d.update_variations_count(-1),
            l.check_total_variations(),
            document.dispatchEvent(o),
            !1
          )
      },
      add_deleted_variation: function(t, i) {
        if (0 !== t) {
          let a = c('#wcv_deleted_variations').data('variations')
          var e = {}
          return (
            jQuery.isEmptyObject(a) && (a = []),
            (e.loop = i),
            (e.id = t),
            a.push(e),
            c('#wcv_deleted_variations').data('variations', a),
            c('#wcv_deleted_variations').val(JSON.stringify(a)),
            !1
          )
        }
      },
      delete_all_variations: function() {
        return (
          c('.wcv_variation').each(function() {
            var a = c(this).attr('rel'),
              t = c(this).data('loop')
            c(this).remove(),
              l.add_deleted_variation(a, t),
              d.update_variations_count(-1),
              l.check_total_variations()
          }),
          !1
        )
      },
      link_all_variations: function() {
        if (window.confirm(wcv_product_variation.i18n_link_all_variations)) {
          l.block()
          let e = [],
            t = c('.wcv_variation').length
          l.populate_parent(),
            c('.wcv_variation').each(function(a, t) {
              let i = {}
              if (
                c(this)
                  .find('.variation_attribute')
                  .filter(function() {
                    return '' === this.value
                  }).length
              )
                return !0
              c(this)
                .find('.variation_attribute')
                .each(function() {
                  i[
                    c(this)
                      .attr('name')
                      .split('[')[0]
                  ] = c(this).val()
                }),
                e.push(i)
            })
          var a = {
            action: 'wcv_json_link_all_variations',
            parent_data: i,
            loop: c('.wcv_variation').length,
            attributes: c('#wcv-variation-attributes').data('variation_attr'),
            available_variations: e,
            security: wcv_product_variation.wcv_json_link_all_variations_nonce
          }
          return (
            c.post(wcv_product_variation.ajax_url, a, function(a) {
              ;(a = c(a)),
                l.load_default_attributes(),
                c('#wcv_variable_product_options')
                  .find('.wcv_variations')
                  .prepend(a),
                (a = parseInt(c('.wcv_variation').length) - parseInt(t))
              1 == a
                ? window.alert(
                    a + ' ' + wcv_product_variation.i18n_variation_added
                  )
                : 0 == a || 1 < a
                ? window.alert(
                    a + ' ' + wcv_product_variation.i18n_variations_added
                  )
                : window.alert(wcv_product_variation.i18n_no_variations_added),
                d.update_variations_count(a),
                c('#wcv_variable_product_options').trigger(
                  'wcv_variations_added',
                  a
                ),
                c(document).trigger('wcv-datetime-field-added'),
                l.unblock()
            }),
            !1
          )
        }
      },
      input_changed: function() {
        c(this)
          .closest('.wcv_variation')
          .addClass('variation-needs-update'),
          c(
            'button.cancel-variation-changes, button.save-variation-changes'
          ).removeAttr('disabled'),
          c('#wcv_variable_product_options').trigger(
            'wcv_variations_input_changed'
          )
      },
      populate_parent: function() {
        ;(i.title = c('#post_title').val()),
          (i.sku = c('#_sku').val()),
          (i.weight = c('#_weight').val()),
          (i.length = c('#_length').val()),
          (i.width = c('#_width').val()),
          (i.height = c('#_height').val()),
          (i.tax_status = c('#_tax_status').val())
      },
      defaults_changed: function() {
        c(this)
          .closest('#wcv_variable_product_options')
          .find('.wcv_variation:first')
          .addClass('variation-needs-update'),
          c('#wcv_variable_product_options').trigger(
            'wcv_variations_defaults_changed'
          )
      },
      do_variation_action: function(a) {
        var t,
          i = c('#' + a).val()
        let e
        if ('-1' !== i)
          switch ((l.populate_parent(), i)) {
            case 'add_variation':
              return void l.add_variation()
            case 'link_all_variations':
              return void l.link_all_variations()
            case 'delete_all':
              window.confirm(
                wcv_product_variation.i18n_delete_all_variations
              ) &&
                window.confirm(wcv_product_variation.i18n_last_warning) &&
                l.delete_all_variations()
              break
            case 'toggle_variable_enabled':
            case 'toggle_variable_is_downloadable':
            case 'toggle_variable_is_virtual':
            case 'toggle_variable_manage_stock':
              var o = i.replace(/toggle_/, '')
              c('.' + o).prop('checked', !c('.' + o).prop('checked')),
                c('.' + o).trigger('change')
              break
            case 'variable_regular_price_increase':
            case 'variable_regular_price_decrease':
            case 'variable_sale_price_increase':
            case 'variable_sale_price_decrease':
              ;(e = window.prompt(
                wcv_product_variation.i18n_enter_a_value_fixed_or_percent
              )) &&
                ((o = -1 < i.indexOf('increase') ? '+' : '-'),
                (t =
                  -1 < i.indexOf('increase')
                    ? i.substring(0, i.indexOf('_increase'))
                    : i.substring(0, i.indexOf('_decrease'))),
                null !== e &&
                  (e =
                    0 <= e.indexOf('%')
                      ? accounting.unformat(
                          e.replace(/%/, ''),
                          wcv_product_variation.mon_decimal_point
                        ) + '%'
                      : accounting.unformat(
                          e,
                          wcv_product_variation.mon_decimal_point
                        )),
                n.adjust_price(t, String(e), o))
              break
            case 'variable_regular_price':
              ;(e = window.prompt(wcv_product_variation.i18n_enter_a_value)),
                n.update_input(e, 'variable_regular_price')
              break
            case 'variable_sale_price':
              ;(e = window.prompt(wcv_product_variation.i18n_enter_a_value)),
                n.update_input(e, 'variable_sale_price')
              break
            case 'variable_stock':
              ;(e = window.prompt(wcv_product_variation.i18n_enter_a_value)),
                n.update_input(e, 'variable_stock')
              break
            case 'variable_weight':
              ;(e = window.prompt(wcv_product_variation.i18n_enter_a_value)),
                n.update_input(e, 'variable_weight')
              break
            case 'variable_length':
              ;(e = window.prompt(wcv_product_variation.i18n_enter_a_value)),
                n.update_input(e, 'variable_length')
              break
            case 'variable_width':
              ;(e = window.prompt(wcv_product_variation.i18n_enter_a_value)),
                n.update_input(e, 'variable_width')
              break
            case 'variable_height':
              ;(e = window.prompt(wcv_product_variation.i18n_enter_a_value)),
                n.update_input(e, 'variable_height')
              break
            case 'variable_download_limit':
              ;(e = window.prompt(wcv_product_variation.i18n_enter_a_value)),
                n.update_input(e, 'variable_download_limit')
              break
            case 'variable_download_expiry':
              ;(e = window.prompt(wcv_product_variation.i18n_enter_a_value)),
                n.update_input(e, 'variable_download_expiry')
              break
            case 'variable_sale_schedule':
              ;(date_from = window.prompt(
                wcv_product_variation.i18n_scheduled_sale_start
              )),
                (date_to = window.prompt(
                  wcv_product_variation.i18n_scheduled_sale_end
                )),
                null === date_from && (date_from = !1),
                n.update_input(date_from, 'sale_price_dates_from'),
                null === date_to && (date_to = !1),
                n.update_input(date_to, 'sale_price_dates_to')
              break
            default:
              c('select#' + a).trigger(i),
                c('select#' + a).triggerHandler(i + '_ajax_data', {})
          }
      }
    },
    d = {
      init: function() {
        c(document.body).on('wcv_variations_added', this.update_single_quantity)
      },
      update_variations_count: function(a) {
        var t = c('#wcv_variable_product_options').find('.wcv_variations'),
          a = parseInt(t.attr('data-total'), 10) + a,
          i = c('.variations-pagenav .displaying-num')
        return (
          t.attr('data-total', a),
          1 === a
            ? i.text(
                wcv_product_variation.i18n_variation_count_single.replace(
                  '%qty%',
                  a
                )
              )
            : i.text(
                wcv_product_variation.i18n_variation_count_plural.replace(
                  '%qty%',
                  a
                )
              ),
          a
        )
      },
      update_single_quantity: function(a, t) {
        var i
        1 === t &&
          ((i = c('.variations-pagenav')),
          d.update_variations_count(t),
          i.is(':hidden')) &&
          (c('option, optgroup', '.variation_actions').show(),
          c('.variation_actions').val('add_variation'),
          c('#wcv_variable_product_options')
            .find('.toolbar')
            .show(),
          i.show(),
          c('.pagination-links', i).hide())
      }
    }
  c('.wcv_product_variations')
    .on('click', '.variation_title', function(a) {
      c(a.target).filter(':input, option, .wcv-sort').length ||
        (c(this)
          .closest('.wcv_variation')
          .find('.wcv-metabox-content')
          .stop()
          .slideToggle(),
        c(this)
          .closest('.wcv_variation')
          .toggleClass('closed'))
    })
    .on('click', '.expand_all', function() {
      return (
        c(this)
          .closest('.wcv-metaboxes-wrapper')
          .find('.wcv-metabox > .wcv-metabox-content')
          .show(),
        c(this)
          .closest('.wcv-metaboxes-wrapper')
          .find('.wcv_variation')
          .removeClass('closed'),
        !1
      )
    })
    .on('click', '.close_all', function() {
      return (
        c(this)
          .closest('.wcv-metaboxes-wrapper')
          .find('.wcv-metabox > .wcv-metabox-content')
          .hide(),
        c(this)
          .closest('.wcv-metaboxes-wrapper')
          .find('.wcv_variation')
          .addClass('closed'),
        !1
      )
    }),
    c('.wcv_product_variations').on(
      'click',
      '.downloadable_files a.insert',
      function() {
        return (
          c(this)
            .closest('.downloadable_files')
            .find('tbody')
            .append(c(this).data('row')),
          !1
        )
      }
    ),
    c('.wcv_product_variations').on(
      'click',
      '.downloadable_files a.delete',
      function() {
        return (
          c(this)
            .closest('tr')
            .remove(),
          !1
        )
      }
    ),
    c('.wcv_product_variations').on('click', '.sale_schedule', function() {
      return (
        c('.sale_price_dates_fields').show(),
        c(this).hide(),
        c('.cancel_sale_schedule').show(),
        !1
      )
    }),
    c('.wcv_product_variations').on(
      'click',
      '.cancel_sale_schedule',
      function() {
        return (
          c('.sale_price_dates_fields').hide(),
          c(this).hide(),
          c('.sale_schedule').show(),
          !1
        )
      }
    ),
    c('#show_variation_actions').on('click', function(a) {
      var t = c('#variation_actions_single')
      t.toggleClass('hide-all')
      let i = 90
      ;(i = t.hasClass('hide-all') ? 0 : 90),
        c(this)
          .find('.wcv-icon')
          .css('transform', 'rotate(' + i + 'deg)'),
        a.preventDefault()
    }),
    n.init(),
    r.init(),
    l.init(),
    d.init()
  var a = () => {
    document.querySelectorAll('.variation_title').forEach(a => {
      a = a.querySelector('.variations_wrapper')
      1 < a.childElementCount
        ? a.classList.add('order')
        : a.classList.remove('order')
    })
  }
  document.querySelector('.variation_title') && a(),
    document.addEventListener('open_variations', a)
})
